[gd_scene load_steps=18 format=3 uid="uid://c6w1n3x6y1msw"]

[ext_resource type="Script" path="res://Script/Player/BotPlayer.cs" id="1_5a8cs"]
[ext_resource type="Script" path="res://Script/Camera/Camera.cs" id="2_qtjr7"]
[ext_resource type="Script" path="res://Script/Character/Sonic/ModelRoot.cs" id="3_iiipn"]
[ext_resource type="PackedScene" uid="uid://df56h24xpf6ao" path="res://Prefab/Character/Sonic/sw_sonic.gltf" id="4_fxnu8"]
[ext_resource type="Script" path="res://Script/Object/Animator.cs" id="5_8p4in"]
[ext_resource type="PackedScene" uid="uid://dph8b5d7oq1cy" path="res://Prefab/Character/Sonic/spinball.tscn" id="6_djr00"]
[ext_resource type="Texture2D" uid="uid://bk1bqlnbpbkoj" path="res://Prefab/Character/Sonic/son_ball.png" id="7_w12pg"]
[ext_resource type="PackedScene" uid="uid://do7abjyipje2x" path="res://Prefab/shadow.tscn" id="8_puq12"]
[ext_resource type="Script" path="res://Script/Player/PlayerParam.cs" id="9_0nj8g"]
[ext_resource type="Script" path="res://Script/Object/ObjectTrigger.cs" id="10_x73kk"]
[ext_resource type="Script" path="res://Script/Object/ObjectTriggerInterest.cs" id="11_boc34"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_c82xd"]
auto_exposure_enabled = true
auto_exposure_speed = 2.0
dof_blur_far_enabled = true
dof_blur_far_distance = 1019.36
dof_blur_amount = 0.03
auto_exposure_min_sensitivity = 180.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jloao"]
transparency = 1
albedo_texture = ExtResource("7_w12pg")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_xawvq"]
radius = 2.5
height = 11.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_nslek"]
radius = 2.0
height = 4.0

[sub_resource type="SphereShape3D" id="SphereShape3D_rku8w"]
radius = 5.0

[sub_resource type="SphereShape3D" id="SphereShape3D_8omxm"]
margin = 0.0
radius = 100.0

[node name="BotPlayer" type="CharacterBody3D"]
top_level = true
collision_layer = 0
wall_min_slide_angle = 0.0
floor_stop_on_slope = false
floor_block_on_wall = false
floor_max_angle = 1.0472
floor_snap_length = 2.0
script = ExtResource("1_5a8cs")

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target_node")]
top_level = true
attributes = SubResource("CameraAttributesPractical_c82xd")
doppler_tracking = 1
current = true
script = ExtResource("2_qtjr7")
target_node = NodePath("../ModelRoot")
lerp_factor = 0.5

[node name="AudioListener3D" type="AudioListener3D" parent="Camera3D"]
current = true

[node name="ModelRoot" type="Node3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 2.7, 0)
top_level = true
script = ExtResource("3_iiipn")

[node name="Model" parent="ModelRoot" instance=ExtResource("4_fxnu8")]
transform = Transform3D(-2, 0, -3.01992e-07, 0, 2, 0, 3.01992e-07, 0, -2, 0, -1, 0)

[node name="Armature" parent="ModelRoot/Model" index="0"]
transform = Transform3D(0.158522, 0, 0, 0, 0.158522, 0, 0, 0, 0.158522, 0, -2.2113, 0)

[node name="Skeleton3D" parent="ModelRoot/Model/Armature" index="0"]
bones/1/position = Vector3(-0.938232, 14.8353, 1.42994)
bones/1/rotation = Quaternion(-0.106616, -0.617051, 0.0768725, 0.775868)
bones/2/rotation = Quaternion(-0.0434826, -0.0356316, 0.0249556, 0.998107)
bones/3/rotation = Quaternion(-0.0556159, -0.0724158, 0.0598967, 0.99402)
bones/4/rotation = Quaternion(-3.86521e-12, 2.72854e-12, 0.0174524, 0.999848)
bones/5/rotation = Quaternion(0.0833392, -0.0523028, 0.347898, 0.932355)
bones/6/rotation = Quaternion(0.351886, 0.779555, -0.0308026, 0.517224)
bones/7/rotation = Quaternion(0.0313299, 0.517784, -0.351461, 0.779355)
bones/8/position = Vector3(4.05279, -5.19637, -0.000801429)
bones/9/position = Vector3(7.51747, -3.84171, -3.7605)
bones/9/rotation = Quaternion(0.316977, 0.60975, 0.290223, 0.665959)
bones/10/position = Vector3(7.51747, -3.84171, 3.76179)
bones/10/rotation = Quaternion(-0.290223, 0.665959, -0.316977, 0.60975)
bones/11/rotation = Quaternion(-0.0858663, 0.701874, 0.0858663, 0.701874)
bones/12/rotation = Quaternion(-0.0852603, 0.714349, -0.106376, 0.686382)
bones/13/rotation = Quaternion(-0.089995, 0.00667041, 0.0734513, 0.993208)
bones/14/rotation = Quaternion(-0.151715, 0.719532, -0.0461118, 0.676114)
bones/15/rotation = Quaternion(-0.124291, -0.0536093, 0.111305, 0.984525)
bones/16/rotation = Quaternion(-0.0162471, 0.70692, 0.0162471, 0.70692)
bones/17/rotation = Quaternion(-0.0459325, 0.000121813, -2.25676e-05, 0.998945)
bones/18/rotation = Quaternion(0.0200076, 0.706824, -0.0200076, 0.706824)
bones/19/rotation = Quaternion(-0.0461497, 5.89747e-05, -2.14952e-05, 0.998935)
bones/20/rotation = Quaternion(0.106374, 0.686382, 0.0852617, 0.714349)
bones/21/rotation = Quaternion(-0.0899948, -0.00667042, -0.0734516, 0.993208)
bones/22/rotation = Quaternion(0.0461077, 0.676114, 0.151716, 0.719532)
bones/23/rotation = Quaternion(-0.112486, 0.0529498, -0.107749, 0.986374)
bones/24/scale = Vector3(0.0530344, 0.0530344, 0.0530344)
bones/25/position = Vector3(6.58835, -3.5256, -2.4237)
bones/25/rotation = Quaternion(-0.130502, 0.694924, 0.130503, 0.694995)
bones/26/position = Vector3(5.94343, -1.54481, -3.84959)
bones/26/rotation = Quaternion(-0.130502, 0.694924, 0.130503, 0.694995)
bones/27/position = Vector3(7.0538, -4.1612, -0.00186894)
bones/27/rotation = Quaternion(-0.130401, 0.694943, 0.130588, 0.694979)
bones/28/position = Vector3(6.58885, -3.52717, 2.42305)
bones/28/rotation = Quaternion(-0.130502, 0.694924, 0.130503, 0.694995)
bones/29/position = Vector3(5.94447, -1.54728, 3.85002)
bones/29/rotation = Quaternion(-0.130502, 0.694924, 0.130503, 0.694995)
bones/30/position = Vector3(1.17051, -3.32714, -2.40588)
bones/30/rotation = Quaternion(0.0792617, 0.702672, -0.0792617, 0.702629)
bones/31/position = Vector3(1.19256, -4.11695, -0.00184948)
bones/31/rotation = Quaternion(0.0795326, 0.702642, -0.0793267, 0.702621)
bones/32/position = Vector3(1.17082, -3.32901, 2.40534)
bones/32/rotation = Quaternion(0.0792617, 0.702672, -0.0792617, 0.702629)
bones/34/rotation = Quaternion(0.0171711, -0.865544, 0.0840329, 0.493434)
bones/35/position = Vector3(3.45806, -1.96614, 2.03001)
bones/35/rotation = Quaternion(-0.04151, -0.397358, 0.529908, 0.748051)
bones/36/rotation = Quaternion(-0.470029, -0.655096, -0.206704, 0.554252)
bones/37/position = Vector3(2.20696, -2.0802, 3.29429)
bones/37/rotation = Quaternion(-0.157156, 0.83338, -0.380846, -0.368425)
bones/38/rotation = Quaternion(-0.392875, 0.723213, -0.366874, -0.433608)
bones/39/position = Vector3(3.74264, -0.780751, 2.43534)
bones/39/rotation = Quaternion(-0.0619053, -0.228305, 0.48277, 0.843195)
bones/40/position = Vector3(0.551863, 1.38305, -0.091109)
bones/40/rotation = Quaternion(-0.439441, -0.7152, -0.180615, 0.5126)
bones/41/position = Vector3(4.1572, -4.9378, -1.51581)
bones/41/rotation = Quaternion(0.208361, 0.691413, 0.127496, 0.679911)
bones/42/position = Vector3(4.1572, -4.9378, 1.5171)
bones/42/rotation = Quaternion(-0.127496, 0.679911, -0.208362, 0.691413)
bones/43/position = Vector3(2.65761, 0.176062, -0.176394)
bones/43/rotation = Quaternion(0.0680766, 0.692885, 0.0655466, 0.714829)
bones/44/rotation = Quaternion(-0.0501745, 0.397985, 0.322768, 0.85727)
bones/45/rotation = Quaternion(-9.31356e-10, -0.00350409, 5.58913e-09, 0.999994)
bones/46/rotation = Quaternion(-0.0870217, -0.055205, 0.00482981, 0.994664)
bones/47/rotation = Quaternion(-0.0974023, 0.788314, 0.178214, 0.580787)
bones/48/rotation = Quaternion(-0.187471, -0.00931117, -0.0567951, 0.980583)
bones/49/rotation = Quaternion(-0.151831, -0.00243084, -0.0208203, 0.988184)
bones/50/rotation = Quaternion(0.00398787, 0.00386597, 0.59962, 0.800266)
bones/51/rotation = Quaternion(-0.00532865, -0.00198434, 0.0203421, 0.999777)
bones/52/rotation = Quaternion(0.00518643, -0.00289862, 0.0407096, 0.999153)
bones/53/rotation = Quaternion(0.0325081, 0.0294778, 0.695833, 0.716862)
bones/54/rotation = Quaternion(0.000769369, -0.000970325, 0.0461544, 0.998934)
bones/55/rotation = Quaternion(0.00611492, -0.00125222, 0.0387704, 0.999229)
bones/56/rotation = Quaternion(-0.0910597, 0.0674168, -0.542783, 0.832196)
bones/57/rotation = Quaternion(-0.00097022, -0.00162334, 0.999755, 0.0220528)
bones/58/rotation = Quaternion(0.00120811, -0.00552598, 0.999363, 0.035239)
bones/59/rotation = Quaternion(-0.132924, 0.0863575, -0.565373, 0.809461)
bones/60/rotation = Quaternion(-0.00346397, -0.00257315, 0.116629, 0.993166)
bones/61/rotation = Quaternion(0.00809697, -0.00384952, -0.0484493, 0.998785)
bones/62/rotation = Quaternion(-3.74925e-09, 0.0759123, 9.34601e-09, 0.997115)
bones/63/rotation = Quaternion(3.72507e-09, 2.32847e-08, 2.79546e-09, 1)
bones/64/position = Vector3(2.64803, 0.108223, 0.177464)
bones/64/rotation = Quaternion(0.0680766, 0.692885, 0.0655466, 0.714829)
bones/65/rotation = Quaternion(-0.0499397, -0.398348, -0.322845, 0.857086)
bones/66/rotation = Quaternion(5.5884e-09, 0.00350412, 4.6576e-09, 0.999994)
bones/67/rotation = Quaternion(-0.087043, 0.0506484, -0.00443115, 0.994907)
bones/68/rotation = Quaternion(-0.0974023, -0.788314, -0.178214, 0.580787)
bones/69/rotation = Quaternion(-0.187471, 0.00931113, 0.0567951, 0.980583)
bones/70/rotation = Quaternion(-0.151831, 0.00243082, 0.0208203, 0.988184)
bones/71/rotation = Quaternion(0.00299927, -0.00223818, -0.600372, 0.799712)
bones/72/rotation = Quaternion(-0.00532848, 0.00198478, -0.0204192, 0.999775)
bones/73/rotation = Quaternion(0.00518574, 0.00289992, -0.0404603, 0.999164)
bones/74/rotation = Quaternion(0.0325081, -0.0294778, -0.695833, 0.716862)
bones/75/rotation = Quaternion(0.000769377, 0.000970306, -0.0461544, 0.998934)
bones/76/rotation = Quaternion(0.00611493, 0.00125222, -0.0387704, 0.999229)
bones/77/rotation = Quaternion(-0.0910597, -0.0674168, 0.542783, 0.832196)
bones/78/rotation = Quaternion(0.000970338, -0.00162397, 0.999755, -0.0220517)
bones/79/rotation = Quaternion(0.00118794, 0.00553069, -0.999228, 0.0388622)
bones/80/rotation = Quaternion(-0.132924, -0.0863576, 0.565373, 0.809461)
bones/81/rotation = Quaternion(-0.00346397, 0.00257311, -0.116629, 0.993166)
bones/82/rotation = Quaternion(0.00808943, 0.00386536, 0.0504047, 0.998689)
bones/83/rotation = Quaternion(-9.34401e-09, -0.0745707, -9.33823e-10, 0.997216)
bones/84/rotation = Quaternion(3.72516e-09, 8.3819e-09, 1.02462e-08, 1)
bones/85/position = Vector3(0.855554, 2.6874, -1.58694)
bones/85/rotation = Quaternion(-0.546221, 0.54567, 0.382646, 0.507414)
bones/86/position = Vector3(0.855262, 2.68743, 1.5877)
bones/86/rotation = Quaternion(-0.382655, 0.507365, 0.546198, 0.545732)
bones/87/rotation = Quaternion(-0.0579445, -0.00134779, -0.0126186, 0.998239)
bones/88/rotation = Quaternion(-0.11455, 0.697734, 0.114539, 0.697801)
bones/89/rotation = Quaternion(0.158832, 0.970129, 0.138734, 0.119894)
bones/89/scale = Vector3(1.07501, 0.924993, 0.924993)
bones/90/rotation = Quaternion(-6.771e-09, -7.95102e-08, 0.0429538, 0.999077)
bones/90/scale = Vector3(1, 1, 1)
bones/91/position = Vector3(7.67702, -0.0250823, -0.0343749)
bones/91/rotation = Quaternion(0.00198459, 0.00289866, 0.270431, 0.962733)
bones/91/scale = Vector3(0.973348, 1.04354, 1.08187)
bones/92/position = Vector3(3.28722, -4.41275, 0.198208)
bones/92/rotation = Quaternion(0.193277, 0.680141, -0.193253, 0.680225)
bones/93/position = Vector3(-0.0213538, -0.000396349, 0.119772)
bones/93/rotation = Quaternion(-0.0080991, -0.0512443, -0.129091, 0.990275)
bones/93/scale = Vector3(1.00608, 0.994248, 1)
bones/94/rotation = Quaternion(3.48762e-09, -3.62746e-09, -0.0211864, 0.999776)
bones/95/rotation = Quaternion(-0.0944686, -0.0510351, 0.970714, 0.214906)
bones/96/rotation = Quaternion(-7.66818e-09, -2.27325e-08, -0.495192, 0.868784)
bones/96/scale = Vector3(0.674969, 1, 1)
bones/97/position = Vector3(-7.54669, 0.160538, -0.0330653)
bones/97/rotation = Quaternion(-0.0087612, -0.0511178, -0.144563, 0.988135)
bones/97/scale = Vector3(1.54847, 1.06418, 1.00654)
bones/98/position = Vector3(-3.28789, -4.41209, 0.198208)
bones/98/rotation = Quaternion(-0.0462472, -0.705559, -0.0462433, 0.705627)
bones/99/position = Vector3(0.0213205, -0.000394848, 0.119771)
bones/99/rotation = Quaternion(0.0277008, 0.0860921, 0.155077, 0.983754)
bones/99/scale = Vector3(1, 1, 1)
bones/100/scale = Vector3(0, 0, 0)
bones/101/rotation = Quaternion(2.4233e-08, 1.22976e-08, 0.257577, 0.966258)
bones/102/position = Vector3(0.0791612, 0.0110782, 0.0606384)
bones/102/scale = Vector3(0.000999987, 0.000999987, 0.000999987)
bones/103/position = Vector3(0.314328, 0.0270704, -0.000767133)
bones/103/scale = Vector3(0.000999987, 0.000999987, 0.000999987)

[node name="Eyes" parent="ModelRoot/Model/Armature/Skeleton3D" index="1"]
cast_shadow = 0

[node name="AnimationPlayer" parent="ModelRoot/Model" index="1" node_paths=PackedStringArray("m_skeleton_node")]
playback_process_mode = 0
method_call_mode = 1
script = ExtResource("5_8p4in")
m_skeleton_node = NodePath("../Armature/Skeleton3D")

[node name="JumpballRoot" type="BoneAttachment3D" parent="ModelRoot"]
transform = Transform3D(-3.59328e-05, -1.94807e-06, 0.000154381, 3.97664e-05, 0.000153043, 1.1187e-05, -0.000149185, 4.12641e-05, -3.42026e-05, 0.155226, 2.35947, -0.240104)
top_level = true
bone_name = "spinball"
bone_idx = 102
use_external_skeleton = true
external_skeleton = NodePath("../Model/Armature/Skeleton3D")

[node name="Jumpball" parent="ModelRoot/JumpballRoot" instance=ExtResource("6_djr00")]
transform = Transform3D(-4.37314e-07, -4.76837e-07, -10, 1.30967e-10, 10, -4.76837e-07, 10, 1.45519e-11, -4.37081e-07, 5, -4.99999, 7.45058e-09)

[node name="Jumpball" parent="ModelRoot/JumpballRoot/Jumpball" index="0"]
transform = Transform3D(1, 3.63798e-11, -1.72804e-11, 2.91038e-11, 0.999123, -0.0418757, -2.99565e-11, 0.0418757, 0.999123, -7.79191e-06, 0.17814, 0.154012)
cast_shadow = 0
surface_material_override/0 = SubResource("StandardMaterial3D_jloao")

[node name="Shadow" parent="ModelRoot" instance=ExtResource("8_puq12")]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, 0, -6.2, 0)

[node name="PlayerParam" type="Node" parent="."]
script = ExtResource("9_0nj8g")
m_jump_hang = 45
m_jump_speed = 1.66
m_jump_addit = 0.06
m_gravity = 0.08
m_air_accel = 0.031
m_air_decel = -0.06
m_air_brake = -0.17
m_run_dragstart = 3.0
m_jog_speed = 0.46
m_run_speed = 1.39
m_rush_speed = 2.5
m_crash_speed = 5.0
m_dash_speed = 7.0
m_run_accel = 0.05
m_run_decel = -0.06
m_run_brake = -0.18
m_air_drag = Vector3(-0.028, -0.01, -0.4)
m_run_drag = Vector3(-0.007, -0.01, -0.8)
m_roll_drag = Vector3(-0.008, -0.01, -0.4)
m_rings_to_release = 30
m_invincibility_timer = 120.0
m_flicker_timer = 2.0
m_reset_speed_on_hit = true
m_dead_timer = 150.0
m_eye_height = 6.0
m_center_height = 3.4
m_floor_clip = 0.1

[node name="MainColShape" type="CollisionShape3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 3.5, 0)
shape = SubResource("CapsuleShape3D_xawvq")
disabled = true

[node name="RollColShape" type="CollisionShape3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1, 0)
shape = SubResource("CapsuleShape3D_nslek")
disabled = true

[node name="ObjectTrigger" type="StaticBody3D" parent="." node_paths=PackedStringArray("m_listener_node", "m_shape_node")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 2.5, 0)
collision_layer = 2147483648
collision_mask = 3221225984
script = ExtResource("10_x73kk")
m_listener_node = NodePath("..")
m_shape_node = NodePath("ColShape")

[node name="ColShape" type="CollisionShape3D" parent="ObjectTrigger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.76351, 0)
shape = SubResource("SphereShape3D_rku8w")

[node name="RadialTrigger" type="StaticBody3D" parent="." node_paths=PackedStringArray("m_listener_node", "m_shape_node")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 2.5, 0)
collision_layer = 0
collision_mask = 1073741824
script = ExtResource("11_boc34")
m_listener_node = NodePath("..")
m_shape_node = NodePath("ColShape")

[node name="ColShape" type="CollisionShape3D" parent="RadialTrigger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.76351, 0)
shape = SubResource("SphereShape3D_8omxm")

[node name="AttackTrigger" type="StaticBody3D" parent="." node_paths=PackedStringArray("m_listener_node", "m_shape_node")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 2.5, 0)
collision_layer = 0
collision_mask = 1073741824
script = ExtResource("11_boc34")
m_listener_node = NodePath("..")
m_shape_node = NodePath("ColShape")

[node name="ColShape" type="CollisionShape3D" parent="AttackTrigger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.76351, 0)
shape = SubResource("SphereShape3D_8omxm")

[editable path="ModelRoot/Model"]
[editable path="ModelRoot/JumpballRoot/Jumpball"]
